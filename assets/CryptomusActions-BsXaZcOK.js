import{m as c,f as u,A as r,t as p}from"./index-B6KNdpHc.js";const y=n=>e=>new Promise((s,o)=>{c.post("/cryptomus/make-subscription",n).then(t=>{if(t.status===200||t.status===201){const a=u(t.data.encrypted);e({type:r.AUTH_USER,payload:{user:a.user}}),s({status:t.status,data:a})}}).catch(t=>{t.response.status===401&&(localStorage.removeItem("tickSyncUserToken"),e({type:r.AUTH_USER,payload:{logined:!1}})),o()})}),d=n=>e=>new Promise((s,o)=>{c.post("/cryptomus/customize-subscription",n).then(t=>{if(t.status===200||t.status===202){const a=u(t.data.encrypted);e({type:r.AUTH_USER,payload:{user:a.user}}),s({status:t.status,data:a})}t.status===201&&(p.warning(t.data),o())}).catch(t=>{t.response.status===401&&(localStorage.removeItem("tickSyncUserToken"),e({type:r.AUTH_USER,payload:{logined:!1}})),o()})}),m=n=>e=>new Promise((s,o)=>{c.post("/cryptomus/get-new-payment",n).then(t=>{if(t.status===200){const a=u(t.data.encrypted);e({type:r.AUTH_USER,payload:{user:a.user}}),s()}}).catch(t=>{t.response.status===401&&(localStorage.removeItem("tickSyncUserToken"),e({type:r.AUTH_USER,payload:{logined:!1}})),o()})}),l=n=>e=>new Promise((s,o)=>{c.post("/cryptomus/get-payment-history",n).then(t=>{if(t.status===200){const a=u(t.data.encrypted);s(a)}}).catch(t=>{t.response.status===401&&(localStorage.removeItem("tickSyncUserToken"),e({type:r.AUTH_USER,payload:{logined:!1}})),o()})}),S=n=>e=>new Promise((s,o)=>{c.post("/cryptomus/check-promo-code",n).then(t=>{if(t.status===200){const a=u(t.data.encrypted);s({status:200,data:a})}t.status===202&&s({status:202,data:t.data})}).catch(t=>{t.response.status===401&&(localStorage.removeItem("tickSyncUserToken"),e({type:r.AUTH_USER,payload:{logined:!1}})),o()})}),U=n=>e=>new Promise((s,o)=>{c.post("/cryptomus/get-current-plan",n).then(t=>{if(t.status===200){const a=u(t.data.encrypted);s({status:200,data:a})}}).catch(t=>{t.response.status===401&&(localStorage.removeItem("tickSyncUserToken"),e({type:r.AUTH_USER,payload:{logined:!1}})),o()})});export{l as a,U as b,S as c,d,m as g,y as m};
