import{a as h,u as B,b as F,r,j as e,B as y,e as p,t as n}from"./index-B6KNdpHc.js";import{p as $,w as S}from"./DashboardActions-BWS3_lHX.js";import{B as D}from"./ButtonWhiteComponent-CMREZW0u.js";import{D as _}from"./DashboardLoading-D7ABqY3W.js";/* empty css              */const A=()=>{const g=h(t=>t.auth),d=B(),i=F(),[m,o]=r.useState(!1),[c,f]=r.useState(""),[u,b]=r.useState(0),[a,C]=r.useState([]),[k,x]=r.useState(!1);r.useEffect(()=>{(async()=>{const l=p({user_id:g.user.id});await i($({encrypted:l})).then(w=>{C(w)})})()},[]);const j=async()=>{if(!c){n.warning("Please input cluster name!");return}if((a==null?void 0:a.length)===0){n.warning("Cluster creation is not possible as no account has been selected to serve as the master.");return}o(!0);const t=p({cluster_name:c,master:a[u]});await i(S({encrypted:t})).then(()=>{o(!1),n.success("Cluster has been created successfully!"),d("/dashboard/clusters")}).catch(()=>{o(!1)})},N=()=>{d("/dashboard/clusters")},v=t=>{const l=/[\'\";\\]/;if(x(!1),l.test(t.target.value)){x(!0),n.warning("Input contains forbidden characters.");return}f(t.target.value)},s=h(t=>t.toggle.theme);return e.jsx(e.Fragment,{children:m?e.jsx(_,{text:"Creating"}):e.jsxs("div",{className:`${s==="dark"?"border-color8":"border-lightBorder"} overflow-x-auto w-full border-[1px] rounded-[12px]`,children:[e.jsx("div",{className:`${s==="dark"?"bg-darkCardBack text-color4":"bg-lightCardBack text-lightFontColor"} px-4 custom:px-8 w-full h-[88px] font-medium text-xl rounded-t-xl
           flex items-center justify-start`,children:"Create Cluster"}),e.jsxs("div",{className:`${s==="dark"?"text-color4 border-color8":"text-lightFontColor border-lightBorder"} py-10 px-8 custom:px-16 flex flex-col gap-8
              bg-transparent border-t-[1px] border-b-[1px]`,children:[e.jsxs("div",{className:"w-full lg:w-[50%] flex flex-col gap-2",children:[e.jsx("label",{className:"text-[18px]",children:"Account Name"}),e.jsx("input",{className:`${s==="dark"?"text-color4 bg-[#FFFFFF2A]":"text-lightFontColor bg-lightInputBack border-lightBorder"} px-8 w-full h-[56px]  border-[1px]  outline-none border-color8 rounded-lg ${k?"shake":""}`,placeholder:"Input Cluster Name",value:c,onChange:v})]}),e.jsxs("div",{className:"w-full lg:w-[50%] flex flex-col gap-2",children:[e.jsx("label",{className:"text-[18px]",children:"Select Your Master"}),e.jsx("div",{className:`${s==="dark"?"":'!bg-[url("/icons/down-arrow.png")] !bg-[length:15px_15px] !bg-[right_1rem_center] !bg-lightInputBack !border-lightBorder '} input-styled-select1`,children:e.jsx("select",{className:`${s==="dark"?"":"!text-lightFontColor"} px-8 w-full`,value:u,onChange:t=>b(parseInt(t.target.value)),children:(a==null?void 0:a.length)===0?e.jsx("option",{className:`${s==="dark"?"":"!bg-light"}`,children:"No account"}):a==null?void 0:a.map((t,l)=>e.jsx("option",{value:l,className:`${s==="dark"?"":"!bg-light"}`,children:t.account_name},t.account_id))})})]})]}),e.jsxs("div",{className:`${s==="dark"?"bg-darkCardBack text-color23":"bg-lightCardBack text-lightFontColor"} px-8 w-full h-[88px] flex items-center justify-end gap-4 rounded-b-xl`,children:[e.jsx(D,{text:"Back",className:"h-12 w-[150px]",handleClick:N}),e.jsx(y,{text:"Create",className:"h-12 w-[150px]",handleClick:j})]})]})})},W=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col items-center gap-12",children:e.jsx(A,{})})});export{W as default};
