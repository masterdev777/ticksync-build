import{u as S,b as C,a as m,r as x,j as e,B as A,e as _,k as B,f as N,A as f,t as k}from"./index-DauSMKcA.js";import{g as $,a as E}from"./CryptomusActions-DQZQMVvZ.js";import{N as F}from"./NoDataComponent-BmO5KSQ1.js";import{h as D}from"./moment-C5S46NFB.js";/* empty css              */const P=()=>{const a=S(),c=C(),t=m(n=>n.toggle.theme),r=m(n=>n.auth);x.useEffect(()=>{(async()=>{const l=_({user_id:r.user.id});await c($({encrypted:l})).then(()=>{})})()},[]);const p=async()=>{a("/dashboard/managepayments/selectplan")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${t==="dark"?"bg-darkCardBack border-color8 text-color4":"bg-lightCardBack border-lightBorder text-lightFontColor"} 
            px-4 sm:px-16 w-full h-[150px] custom:h-[118px] rounded-lg border flex flex-col custom:flex-row items-center justify-center gap-y-4 custom:justify-between`,children:[e.jsx("p",{className:"text-xl font-semibold",children:"no active plan"}),e.jsx(A,{text:"Add Subscription",className:"w-full custom:w-[223px] h-[48px]",handleClick:p})]})})},T=()=>{const a=m(c=>c.toggle.theme);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${a==="dark"?"bg-darkCardBack text-color23":"bg-lightCardBack text-lightFontColor"} px-5 lg:px-[5%] w-[900px] lg:w-full py-10 flex items-center select-none`,children:[e.jsx("div",{className:"basis-[15%] font-medium text-sm",children:"TYPE"}),e.jsx("div",{className:"basis-[15%] font-medium text-sm",children:"AMOUNT"}),e.jsx("div",{className:"basis-[20%] font-medium text-sm",children:"PAYMENT METHOD"}),e.jsx("div",{className:"basis-[20%] font-medium text-sm",children:"PAYMENT DATE"}),e.jsx("div",{className:"basis-[20%] font-medium text-sm",children:"PAYMENT STATUS"}),e.jsx("div",{className:"basis-[10%] font-medium text-sm",children:"ACTION"})]})})},M=({showModal:a,closeModal:c,data:t,setData:r})=>{const[p,n]=x.useState(!1),l=C(),s=B(),[u,w]=x.useState(!1),[y,v]=x.useState(!1);x.useEffect(()=>{s&&(s.on("payment_paid",d=>{const i=N(d.encrypted);l({type:f.ADD_MESSAGE,payload:{message:i.message}}),l({type:f.AUTH_USER,payload:{message:i.user}}),k.success("Payment finished successfully!"),r(i.data),c()}),s.on("payment_fail",d=>{const i=N(d.encrypted);l({type:f.ADD_MESSAGE,payload:{message:i.message}})}),s.on("payment_expired",d=>{const i=N(d.encrypted);l({type:f.ADD_MESSAGE,payload:{message:i.message}}),l({type:f.AUTH_USER,payload:{message:i.user}}),k.warning("Payment expired!"),r(i.data)}),s.on("payout_paid",d=>{const i=N(d.encrypted);l({type:f.ADD_MESSAGE,payload:{message:i.message}}),l({type:f.AUTH_USER,payload:{message:i.user}}),r(i.data)}))},[s]);const b=x.useRef(null),h=d=>{b.current&&!b.current.contains(d.target)&&(n(!0),setTimeout(()=>{n(!1)},300))},g=async()=>{await navigator.clipboard.writeText(t.pay_address).then(()=>{w(!0),k.success("Address Copied Successfully!")}).catch(()=>{})},j=async()=>{await navigator.clipboard.writeText(t.invoice_url).then(()=>{v(!0),k.success("Url Copied Successfully!")}).catch(()=>{})},o=m(d=>d.toggle.theme);return e.jsx(e.Fragment,{children:e.jsx("div",{className:`transtion duration-300 ${a?"visible ":"invisible"} bg-color11  fixed top-0 left-0 w-screen h-screen z-10`,onClick:h,children:e.jsx("div",{ref:b,onClick:d=>d.stopPropagation(),className:`transition-transform duration-300 ${a?"opacity-100 scale-100":"opacity-0 scale-0"} ${o==="dark"?"bg-dark":"bg-lightCardBack border-lightBorder"} fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-w-xl w-full bg-dark rounded-[32px]`,children:e.jsxs("div",{className:`${o==="dark"?"border-[#FFFFFF33] text-color6":"border-lightBorder text-lightFontColor"} py-12 border rounded-[32px] px-12 flex flex-col gap-2 
          `,children:[e.jsx("div",{className:"text-right",children:e.jsx("button",{className:"text-4xl hover:scale-125",onClick:c,children:e.jsx("img",{src:`${o==="dark"?"/icons/close-dark.png":"/icons/close-light.png"}`,className:"w-8 h-8"})})}),e.jsxs("div",{className:"grid items-center grid-cols-3 gap-5 ",children:[e.jsx("label",{className:"text-[18px]  text-nowrap text-right",children:"Order Id:"}),e.jsx("input",{disabled:!0,defaultValue:t.order_id,className:"border-transparent bg-transparent px-4 w-full h-[56px] border-[1px] outline-none rounded-lg text-[18px] col-span-2 "})]}),e.jsxs("div",{className:"grid items-center grid-cols-3 gap-5 ",children:[e.jsx("label",{className:"text-[18px]  text-nowrap text-right",children:"Pay Amount:"}),e.jsx("p",{className:"flex items-center px-4  w-full h-[56px] text-[18px] col-span-2 ",children:(t.pay_amount?t.pay_amount:"0")+" USD"})]}),e.jsxs("div",{className:"grid items-center grid-cols-3 gap-5 ",children:[e.jsx("label",{className:"text-[18px]  text-nowrap text-right",children:"Payment Status:"}),e.jsx("input",{disabled:!0,defaultValue:t.payment_status,className:"border-transparent bg-transparent px-4  w-full h-[56px] border-[1px] outline-none rounded-lg text-[18px] col-span-2 "})]}),e.jsxs("div",{className:"grid items-center grid-cols-3 gap-5 ",children:[e.jsx("label",{className:"text-[18px]  text-nowrap text-right",children:"Network:"}),e.jsx("p",{className:"flex items-center px-4  w-full h-[56px] text-[18px] col-span-2 ",children:t.network?t.network:"N/A"})]}),e.jsxs("div",{className:"grid items-center grid-cols-3 gap-5 ",children:[e.jsx("label",{className:"text-[18px]  text-nowrap text-right",children:"Create At:"}),e.jsx("input",{disabled:!0,defaultValue:D(t.created_at).format("YYYY/MM/DD HH:mm:ss"),className:"border-transparent bg-transparent px-4  w-full h-[56px] border-[1px] outline-none rounded-lg text-[18px] col-span-2 "})]}),t.pay_address&&e.jsxs("div",{className:"relative grid items-center w-full grid-cols-3 gap-5",children:[e.jsx("label",{className:"text-[18px]  text-wrap text-right",children:"Payment Address:"}),e.jsx("input",{disabled:!0,defaultValue:t.pay_address,className:`${o==="dark"?"border-color8 bg-transparent":"border-lightBorder bg-lightInputBack"} px-4 pr-12 w-full h-[56px] border-[1px] outline-none rounded-lg text-[18px] col-span-2 `}),e.jsx("button",{className:"absolute translate-y-1/2 right-4 bottom-[28px]",onClick:g,children:o==="dark"?u?e.jsx("img",{src:"/icons/checked-copy-dark.png",className:"w-4 h-4"}):e.jsx("img",{src:"/icons/copy-dark.png",className:"w-6 h-6"}):u?e.jsx("img",{src:"/icons/checked-copy-light.png",className:"w-4 h-4"}):e.jsx("img",{src:"/icons/copy-light.png",className:"w-6 h-6"})})]}),e.jsxs("div",{className:"relative grid items-center w-full grid-cols-3 gap-5",children:[e.jsx("label",{className:"text-[18px]  text-wrap text-right",children:"Invoice Url:"}),e.jsx("input",{disabled:!0,defaultValue:t.invoice_url,className:`${o==="dark"?"border-color8 bg-transparent":"border-lightBorder bg-lightInputBack"} px-4 pr-12 w-full h-[56px] border-[1px] outline-none rounded-lg text-[18px] col-span-2 `}),e.jsx("button",{className:"absolute translate-y-1/2 right-4 bottom-[28px]",onClick:j,children:o==="dark"?y?e.jsx("img",{src:"/icons/checked-copy-dark.png",className:"w-4 h-4"}):e.jsx("img",{src:"/icons/copy-dark.png",className:"w-6 h-6"}):y?e.jsx("img",{src:"/icons/checked-copy-light.png",className:"w-4 h-4"}):e.jsx("img",{src:"/icons/copy-light.png",className:"w-6 h-6"})})]}),e.jsx("p",{className:"px-8 my-5 mt-16 text-base text-center",children:(t==null?void 0:t.payment_status)!=="Paid"&&"Please proceed with the payment to the specified address for the amount indicated above."})]})})})})},U=({data:a})=>{const c=m(s=>s.toggle.theme),[t,r]=x.useState({}),[p,n]=x.useState(!1),l=s=>{r(s),n(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${c==="dark"?"text-color4 border-color8 bg-dark":"bg-light text-lightFontColor border-lightBorder"} flex flex-col border-t-[1px] select-none`,children:a==null?void 0:a.map((s,u)=>e.jsxs("div",{className:`${u%2===0?"bg-transparent":"bg-color7 rounded-lg"} px-5 lg:px-[5%] w-full h-[88px] 
                font-medium text-sm flex items-center`,children:[e.jsx("div",{className:"basis-[15%]",children:s.plan.charAt(0).toUpperCase()+s.plan.slice(1)}),e.jsxs("div",{className:"basis-[15%] ",children:["$ ",s.pay_amount]}),e.jsx("div",{className:"basis-[20%]",children:s.network?s.network.charAt(0).toUpperCase()+s.network.slice(1):"N/A"}),e.jsx("div",{className:"basis-[20%]",children:D(s.created_at).format("YYYY/MM/DD HH:mm:ss")}),e.jsx("div",{className:"basis-[20%]",children:s.payment_status}),e.jsx("div",{className:"basis-[10%] cursor-pointer hover:underline",onClick:()=>l(s),children:"View Details"})]},"accountdata"+u))}),e.jsx(M,{showModal:p,closeModal:()=>n(!1),data:t,setData:r})]})},Y=()=>{const[a,c]=x.useState([]),[t,r]=x.useState(0),[p,n]=x.useState(5),[l,s]=x.useState(0),u=C(),w=m(g=>g.auth),y=g=>{const j=parseInt(g.target.value);n(j),r(0)},v=()=>{r(t===0?0:t-1)},b=()=>{console.log(t),(t+1)*p>=l?r(t):r(t+1)},h=m(g=>g.toggle.theme);return x.useEffect(()=>{(async()=>{const j=_({user_id:w.user.id,current_page:t,display_count:p});await u(E({encrypted:j})).then(o=>{c(o.data),s(o.total_count)}).catch(()=>{})})()},[t,p]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:`${h==="dark"?"border-color8":"border-lightBorder"} overflow-x-auto w-full border-[1px] border-b-0 rounded-t-[12px]`,children:[e.jsx(T,{}),e.jsx("div",{className:"w-[900px] lg:w-full",children:(a==null?void 0:a.length)===0?e.jsx(F,{}):e.jsx(U,{data:a})})]}),e.jsxs("div",{className:`${h==="dark"?"bg-darkCardBack text-color23  border-color8":"bg-lightCardBack text-lightFontColor border-lightBorder"} px-4 w-full h-[62px] flex items-center justify-between border-[1px] rounded-b-[12px]`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"max-custom:hidden",children:"Display :"}),e.jsx("div",{className:`${h==="dark"?"":'!bg-[url("/icons/down-arrow.png")] !bg-[length:15px_15px] !bg-[right_1rem_center] !bg-lightInputBack !border-lightBorder '} display-styled-select`,children:e.jsxs("select",{value:p,onChange:y,className:`${h==="dark"?"":"!text-lightFontColor"} px-8 w-full`,children:[e.jsx("option",{value:5,className:`${h==="dark"?"":"!bg-light"}`,children:"5"}),e.jsx("option",{value:10,className:`${h==="dark"?"":"!bg-light"}`,children:"10"}),e.jsx("option",{value:20,className:`${h==="dark"?"":"!bg-light"}`,children:"20"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-10 h-10 border-[1px] flex items-center justify-center cursor-pointer rounded-lg bg-lightFontColor border-lightBorder  hover:bg-dark",onClick:v,children:e.jsx("img",{src:"/icons/left-vector-icon.png",className:"w-[6px] h-[10px]"})}),e.jsx("div",{className:"w-10 h-10 border-[1px] flex items-center justify-center cursor-pointer rounded-lg bg-lightFontColor border-lightBorder  hover:bg-dark",onClick:b,children:e.jsx("img",{src:"/icons/right-vector-icon.png",className:"w-[6px] h-[10px]"})})]})]})]})})},I=()=>{const a=S(),t=m(l=>l.auth).user.subscription,r=(t==null?void 0:t.payment_status)==="expired",p=()=>{a("/dashboard/managepayments/upgradeplan")},n=m(l=>l.toggle.theme);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${n==="dark"?"bg-darkCardBack text-color4 border-color8":"bg-lightCardBack text-lightFontColor border-lightBorder"} mb-5 px-6 py-10 sm:p-12 w-full h-auto rounded-lg border flex flex-col gap-10`,children:[e.jsxs("div",{className:"flex flex-col justify-between w-full gap-0 sm:flex-row sm:gap-4",children:[e.jsx("p",{className:"text-xl font-semibold",children:"Current Plan"}),e.jsxs("p",{className:"text-xl font-semibold",children:[e.jsx("span",{className:`${n==="dark"?"text-color6":"text-lightFontColor"}`,children:"Next Billing : "}),e.jsx("span",{className:"ml-[5px]",children:r?"Expired":D(t==null?void 0:t.next_billing_date).format("YYYY/MM/DD")})]})]}),e.jsxs("div",{className:"flex flex-col justify-between w-full gap-4 sm:flex-row sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("p",{className:"text-3xl font-bold",children:(t==null?void 0:t.plan.charAt(0).toUpperCase())+(t==null?void 0:t.plan.slice(1))}),e.jsxs("div",{className:"w-[106px] h-[26px] flex items-center justify-center bg-color7 rounded text-color9",children:[t==null?void 0:t.count," accounts"]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("p",{className:"text-3xl font-bold ",children:["$ ",t!=null&&t.amount?t==null?void 0:t.amount.toFixed(1):"0"," "]}),e.jsx("p",{className:`${n==="dark"?"text-color6":"text-lightFontColor"} text-2xl font-bold`,children:(t==null?void 0:t.plan)==="monthly"?"/ Month":"/ Annual"})]})]}),e.jsx("div",{className:"flex flex-col w-full gap-4 md:flex-row md:justify-between",children:e.jsx("div",{className:"flex flex-col items-center w-full gap-3 custom:flex-row",children:e.jsx(A,{text:"Customize Plan",className:"w-full md:w-[170px] h-[48px]",handleClick:p})})})]}),e.jsx(Y,{})]})},z=()=>{var c;const a=m(t=>t.auth);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full flex flex-col items-center gap-8",children:(c=a.user.subscription)!=null&&c.isExist?e.jsx(I,{}):e.jsx(P,{})})})};export{z as default};
