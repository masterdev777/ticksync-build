import{u,b as j,r as k,a as d,j as t,B as N,t as n,e as C}from"./index-DauSMKcA.js";import{B as v}from"./ButtonWhiteComponent-LQdu443F.js";import{m as y}from"./CryptomusActions-DQZQMVvZ.js";import{D as B}from"./DashboardLoading-B6-U7bHF.js";import{h as b}from"./moment-C5S46NFB.js";/* empty css              */const A=()=>{const c=u(),x=j(),[i,r]=k.useState(!1),o=d(l=>l.auth),e=o.user.subscription,h=(e==null?void 0:e.payment_status)==="expired",s=o.price_list,p=()=>{c("/dashboard/managepayments")},m=async()=>{if(!/^\d+$/.test(e==null?void 0:e.count.toString())){n.warning("Please enter a valid number");return}r(!0);const g=C({count:e==null?void 0:e.count,plan:(e==null?void 0:e.plan)==="monthly"?0:1});await x(y({encrypted:g})).then(f=>{window.location.href=`${f}`,n.success("The invoice generation process has been completed successfully."),r(!1)}).catch(()=>{r(!1)})},a=d(l=>l.toggle.theme);return t.jsx(t.Fragment,{children:i?t.jsx(B,{text:"Loading"}):t.jsxs("div",{className:`${a==="dark"?"border-color8":"border-lightBorder"} overflow-x-auto w-full border-[1px] rounded-[12px]`,children:[t.jsx("div",{className:`${a==="dark"?" border-color8 bg-darkCardBack":"border-lightBorder bg-lightCardBack"} px-7 py-[30px] border-b rounded-t-xl`,children:t.jsx("p",{className:`${a==="dark"?"text-light":"text-lightFontColor"}`,children:"Manage Payment"})}),t.jsxs("div",{className:`${a==="dark"?"border-color8 text-color6":"border-lightBorder text-lightFontColor"} px-6 py-10 sm:p-12 bg-transparent flex flex-col gap-10`,children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("div",{className:"flex flex-col gap-10",children:t.jsx("div",{className:"flex items-end gap-8 sm:gap-16",children:t.jsx("div",{className:"flex items-center gap-4",children:t.jsx("p",{className:`${a==="dark"?"text-light":"text-lightFontColor"} font-semibold text-2xl sm:text-4xl `,children:(e==null?void 0:e.plan.charAt(0).toUpperCase())+(e==null?void 0:e.plan.slice(1))})})})}),t.jsxs("div",{className:"flex flex-col gap-10",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xl",children:[t.jsx("p",{className:`${a==="dark"?"text-color6":"text-lightFontColor"}`,children:"Next Billing :"}),t.jsx("p",{className:`${a==="dark"?"text-light":"text-lightFontColor"}`,children:h?"Expired":b(e.next_billing_date).format("YYYY/MM/DD")})]}),t.jsxs("div",{className:"flex items-end justify-end gap-2",children:[t.jsxs("p",{className:`${a==="dark"?"text-light":"text-lightFontColor"} text-5xl`,children:["$ ",(e==null?void 0:e.plan)==="monthly"?(e==null?void 0:e.count)*s[0].price:((e==null?void 0:e.count)*s[1].price*12).toFixed(1)]}),t.jsxs("p",{className:`${a==="dark"?"text-color6":"text-lightFontColor"} text-2xl`,children:["/",(e==null?void 0:e.plan)==="monthly"?" Month":" Annual"]})]})]})]}),t.jsx("div",{className:`${a==="dark"?"text-color6":"text-lightFontColor"} w-full grid md:grid-cols-2 gap-10`,children:t.jsxs("div",{className:"flex flex-col col-span-1 gap-2",children:[t.jsx("label",{className:"text-[18px]",children:"Account Counts"}),t.jsx("input",{className:`${a==="dark"?"border-color4 bg-color7":"border-lightBorder bg-lightInputBack"} px-4 w-full h-[56px] focus:border-[1px] outline-none`,placeholder:"Input count",value:e.count,disabled:!0})]})})]}),t.jsxs("div",{className:`${a==="dark"?"bg-darkCardBack text-color23  border-color8":"bg-lightCardBack text-lightFontColor border-lightBorder"} px-4 w-full h-[90px] flex items-center justify-end gap-10 border-t-[1px] rounded-b-[12px]`,children:[t.jsx(v,{text:"Back",className:"w-[200px] h-[48px]",handleClick:p}),t.jsx(N,{text:"Pay",className:"w-[200px] h-[48px]",handleClick:m})]})]})})};export{A as default};
