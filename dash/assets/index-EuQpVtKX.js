import{a as j,j as e,b as v,r as t,e as k,t as y,u as A,B as D}from"./index-B6KNdpHc.js";import{S as _}from"./SearchBarSm-dlM1wa-W.js";import{N as B}from"./NoDataComponent-BtNVb9br.js";import{f as S,h as F}from"./DashboardActions-BWS3_lHX.js";import{D as $}from"./DeleteModal-F4QD6Isk.js";import{h as L}from"./moment-C5S46NFB.js";import{L as M}from"./LoadingAnimation-CbrQI-Sh.js";/* empty css              */const T=()=>{const o=j(n=>n.toggle.theme);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${o==="dark"?"bg-darkCardBack text-color23":"bg-lightCardBack text-lightFontColor"} px-5 lg:px-[5%] w-[900px] lg:w-full py-10 flex items-center select-none`,children:[e.jsx("div",{className:"basis-[15%] font-semibold text-md ",children:"ACCOUNT NAME"}),e.jsx("div",{className:"basis-[15%] font-semibold text-md ",children:"ACCOUNT ID"}),e.jsx("div",{className:"basis-[10%] font-semibold text-md ",children:"BALANCE"}),e.jsx("div",{className:"basis-[15%] font-semibold text-md ",children:"REGISTER DATE"}),e.jsx("div",{className:"basis-[13%] font-semibold text-md ",children:"PLATFORM"}),e.jsx("div",{className:"basis-[10%] font-semibold text-md ",children:"AVG PnL"}),e.jsx("div",{className:"basis-[12%] font-semibold text-md ",children:"TOTAL PnL"}),e.jsx("div",{className:"basis-[10%] font-semibold text-md  flex justify-center",children:"ACTIONS"})]})})},I=({data:o,setChangeStatus:n})=>{const l=v(),[h,g]=t.useState(!1),[p,a]=t.useState(null),[d,i]=t.useState(null),b=(s,r)=>{g(!0),a(s),i(r)},f=async()=>{const s=k({account_id:p,type:d});await l(S({encrypted:s})).then(()=>{y.success("Account has been removed successfully!"),n(r=>!r)}).catch(()=>{n(r=>!r)})},m=j(s=>s.toggle.theme);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${m==="dark"?"text-color4 border-color8 bg-dark":"bg-light text-lightFontColor border-lightBorder"} flex flex-col border-t-[1px] select-none`,children:o==null?void 0:o.map((s,r)=>e.jsxs("div",{className:`${r%2===0?"bg-transparent":"bg-color7 rounded-lg "} px-5 lg:px-[5%] w-full h-[88px] 
                font-medium text-sm flex`,children:[e.jsx("div",{className:"basis-[15%] flex items-center",children:s.account_name}),e.jsx("div",{className:"basis-[15%] flex items-center",children:s.account_id}),e.jsx("div",{className:"basis-[10%] flex items-center text-textgreencolor",children:"$ "+s.account_balance?s.account_balance.toFixed(2):"0"}),e.jsx("div",{className:"basis-[15%] flex items-center",children:L(s.registered_at).format("YYYY/MM/DD")}),e.jsx("div",{className:"basis-[13%] flex items-center",children:s.type.toUpperCase()}),e.jsx("div",{className:"basis-[10%] flex items-center text-textgreencolor",children:s.win_count+s.lose_count>0?(s.total_pl_amount/(s.win_count+s.lose_count)).toFixed(2):"0"}),e.jsx("div",{className:"basis-[12%] flex items-center text-textgreencolor",children:"$ "+s.total_pl_amount?s.total_pl_amount.toFixed(2):"0"}),e.jsx("div",{className:"basis-[10%] flex items-center justify-center",children:e.jsx("div",{className:`${m==="dark"?"bg-color10 hover:bg-color2 hover:border-color6 ":"bg-lightInputBack hover:bg-lightBorder hover:border-lightBorder"} w-9 h-9 hover:border-[1px]
                  flex items-center justify-center rounded-[4px]  cursor-pointer`,onClick:()=>b(s.account_id,s.type),children:e.jsx("img",{src:"/icons/action-remove-icon.png",className:"w-[18px] h-[18px]"})})})]},"accountdata"+r))}),e.jsx($,{showModal:h,closeModal:()=>g(!1),deleteItem:f,type:"account"})]})},E=({search:o})=>{const n=v(),[l,h]=t.useState([]),[g,p]=t.useState([]),[a,d]=t.useState(0),[i,b]=t.useState(5),[f,m]=t.useState(!1),[s,r]=t.useState(!1);t.useEffect(()=>{(async()=>{m(!0),await n(F()).then(x=>{m(!1),h(x),p(x)}).catch(()=>{m(!1)})})()},[s,a,i]),t.useEffect(()=>{const u=g.filter(x=>x.account_name.toLowerCase().includes(o.toLowerCase())||x.account_id.toLowerCase().includes(o.toLowerCase()));h(u)},[o]);const N=u=>{const x=parseInt(u.target.value);b(x),d(0)},w=()=>{d(a===0?0:a-1)},C=()=>{(a+1)*i>=l.length?d(a):d(a+1)},c=j(u=>u.toggle.theme);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:`${c==="dark"?"border-color8":"border-lightBorder"} overflow-x-auto w-full border-[1px] border-b-0 rounded-t-[12px]`,children:[e.jsx(T,{}),e.jsx("div",{className:"w-[900px] lg:w-full",children:f?e.jsx(M,{text:"Loading Data"}):(l==null?void 0:l.length)===0?e.jsx(B,{}):e.jsx(I,{data:l,setChangeStatus:r})})]}),e.jsxs("div",{className:`${c==="dark"?"bg-darkCardBack text-color23  border-color8":"bg-lightCardBack text-lightFontColor border-lightBorder"} px-4 w-full h-[62px] flex items-center justify-between border-[1px] rounded-b-[12px]`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"max-custom:hidden",children:"Display :"}),e.jsx("div",{className:`${c==="dark"?"":'!bg-[url("/icons/down-arrow.png")] !bg-[length:15px_15px] !bg-[right_1rem_center] !bg-lightInputBack !border-lightBorder z-0'} display-styled-select rounded-lg`,children:e.jsxs("select",{value:i,onChange:N,className:`${c==="dark"?"":"!text-lightFontColor"} px-8 w-full`,children:[e.jsx("option",{value:5,className:`${c==="dark"?"":"!bg-light"}`,children:"5"}),e.jsx("option",{value:10,className:`${c==="dark"?"":"!bg-light"}`,children:"10"}),e.jsx("option",{value:20,className:`${c==="dark"?"":"!bg-light"}`,children:"20"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center mx-5 whitespace-nowrap max-custom:mx-1",children:[l.length===1?a*i+1:a*i+1+"-"+(a*i+l.length)," of ",g.length]}),e.jsx("div",{className:`${c==="dark"?"border-color8 bg-dark hover:bg-lightFontColor":"border-lightBorder bg-lightFontColor hover:bg-dark "} w-10 h-10 border-[1px] flex items-center justify-center cursor-pointer rounded-lg`,onClick:w,children:e.jsx("img",{src:"/icons/left-vector-icon.png",className:"w-[6px] h-[10px]"})}),e.jsx("div",{className:`${c==="dark"?"border-color8 bg-dark hover:bg-lightFontColor":"border-lightBorder bg-lightFontColor hover:bg-dark "} w-10 h-10 border-[1px] flex items-center justify-center cursor-pointer rounded-lg`,onClick:C,children:e.jsx("img",{src:"/icons/right-vector-icon.png",className:"w-[6px] h-[10px]"})})]})]})]})})},q=()=>{const[o,n]=t.useState(""),l=A(),h=()=>{l("/dashboard/deployaccount/addaccounts")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col items-center gap-6",children:[e.jsxs("div",{className:"mt-6 w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-8 sm:gap-0",children:[e.jsx(D,{text:"+ Deploy Account",className:"h-12 w-full sm:w-[160px]",handleClick:h}),e.jsx("div",{className:" w-full sm:w-auto h-[48px] relative sm:static overflow-hidden rounded-lg",children:e.jsx(_,{setSearch:n})})]}),e.jsx(E,{search:o})]})})};export{q as default};
